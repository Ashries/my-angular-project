<div class="debug-info" style="background: #e3f2fd; padding: 15px; margin: 10px 0; border-radius: 5px;">
  <h3 style="margin-top: 0; color: #1565c0;">ğŸ“Š Debug Information</h3>
  <p><strong>Status:</strong> {{ isLoading ? 'ğŸ”„ Loading...' : 'âœ… Ready' }}</p>
  <p><strong>Countries loaded:</strong> {{ countries.length }}</p>
  <p><strong>Countries showing:</strong> {{ filteredCountries.length }}</p>
  <p><strong>Search term:</strong> "{{ searchTerm }}"</p>
  <button mat-button (click)="loadCountries()" style="margin-top: 5px;">ğŸ”„ Reload Data</button>
</div>

<div class="countries-container">
  <h1>ğŸŒ Maailman maat ja liput</h1>
  
  <!-- Date Info -->
  <div class="date-info">
    <p><strong>ğŸ“… PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤:</strong> {{ getFormattedDate() }}</p>
    <p><strong>ğŸ“¡ Data lÃ¤hde:</strong> REST Countries API</p>
  </div>

  <!-- Search Box -->
  <div class="search-section">
    <mat-form-field appearance="outline" style="width: 100%;">
      <mat-label>ğŸ” Hae maita</mat-label>
      <input 
        matInput 
        [(ngModel)]="searchTerm" 
        (input)="onSearch()"
        placeholder="Kirjoita maan nimi (esim. Suomi, Ruotsi)">
      <mat-hint>Aloita kirjoittamaan maan nimeÃ¤</mat-hint>
    </mat-form-field>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button mat-raised-button color="primary" (click)="loadEuropeanCountries()" [disabled]="isLoading">
      ğŸ‡ªğŸ‡º NÃ¤ytÃ¤ Euroopan maat
    </button>
    <button mat-raised-button color="accent" (click)="loadFinnishSpeakingCountries()" [disabled]="isLoading">
      ğŸ‡«ğŸ‡® Suomenkieliset maat
    </button>
    <button mat-button (click)="resetFilters()">
      ğŸ—‘ï¸ TyhjennÃ¤ hakusana
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <mat-spinner diameter="60"></mat-spinner>
    <p>Ladataan maita...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-state">
    <div style="background: #ffebee; padding: 20px; border-radius: 5px; text-align: center;">
      <h3 style="color: #c62828;">âŒ Virhe</h3>
      <p>{{ error }}</p>
      <button mat-raised-button color="warn" (click)="loadCountries()" style="margin-top: 10px;">
        ğŸ”„ YritÃ¤ uudelleen
      </button>
    </div>
  </div>

  <!-- Countries Display -->
  <div *ngIf="!isLoading && !error">
    
    <!-- No Results -->
    <div *ngIf="filteredCountries.length === 0" class="no-results">
      <div style="text-align: center; padding: 30px; background: #f5f5f5; border-radius: 5px;">
        <p>ğŸ˜” Ei maita lÃ¶ytynyt hakusanalla "{{ searchTerm }}"</p>
        <p style="color: #666;">Kokeile hakusanoja: Suomi, Ruotsi, Saksa, Ranska</p>
      </div>
    </div>

    <!-- Countries List -->
    <div *ngIf="filteredCountries.length > 0">
      <h3>ğŸ“‹ LÃ¶ytyi {{ filteredCountries.length }} maata:</h3>
      
      <div class="countries-grid">
        <mat-card *ngFor="let country of filteredCountries" class="country-card">
          <!-- Flag -->
          <div class="card-header" *ngIf="country.flags?.png">
            <img [src]="country.flags.png" 
                 [alt]="country.flags.alt || country.name.common + ' lippu'"
                 class="country-flag-large">
          </div>
          
          <mat-card-header>
            <mat-card-title>{{ country.name.common }}</mat-card-title>
            <mat-card-subtitle>{{ country.name.official }}</mat-card-subtitle>
          </mat-card-header>
          
          <mat-card-content>
            <div class="country-details">
              <p><strong>ğŸ“ PÃ¤Ã¤kaupunki:</strong> {{ getCapital(country.capital) }}</p>
              <p><strong>ğŸŒ Alue:</strong> {{ country.region }}</p>
              <p><strong>ğŸ‘¥ VÃ¤kiluku:</strong> {{ formatPopulation(country.population) }}</p>
              <p><strong>ğŸ—£ï¸ Kielet:</strong> {{ getLanguages(country.languages) }}</p>
              <p><strong>ğŸ’° Valuutta:</strong> {{ country.currencies ? 'Yes' : 'N/A' }}</p>
              <p><strong>ğŸ‡ºğŸ‡³ YK jÃ¤sen:</strong> {{ country.unMember ? 'KyllÃ¤' : 'Ei' }}</p>
            </div>
          </mat-card-content>
          
          <mat-card-actions>
            <button mat-button color="primary">LisÃ¤tiedot</button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</div>